1. 这个工具有什么用
=============
这个工具以守护进程的方式运行在MySQL服务器上,默认监听5000端口(可调整),接受来自己远端的tcp或是http触发请求.
当接受到一个tcp或是http的数据包的时候,此脚本会连接本地的mysql,然后执行一个查询,如果查询成功
传送包含http status code 为200 的数据包到 触发端,如果查询失败,传送包含http status code 为500 
的数据包到触发端.

如你所想,这个脚本的的产生是为了代替Haproxy自身检测Mysql可用性功能.
Haproxy默认针检测mysql的健康状况的动作仅是用给定的用户名和密码连接一下mysql,
这种检测方法过于简单,所以不适用以复杂的业务需求.

此脚本默认检测mysql可用性的方法为判断 "show processlist",有无正常返回且要在特定时间返回.
当然这个检测方法也不一定能把mysql所有的问题检测出来,可以根据业务需求,进行查询语句的改进.

2. 为什么不用别人写好的脚本
=============
是的,这种端口监听,守护进程,连接mysql,处理http请求的脚本其它语言perl,python,ruby,php.
还有linux 自来的xinetd加上shell脚本,都可以实现,而且github上也有现成的.为什么还要用C来实现一个.
首先是这些语方都需要安装一些复杂的扩展包,比如mysql连接器,perl需要安装perl-DBI,python的MySQldb,ruby也是需安装相应的gem包.
守护进程什么的,就更需要其它的扩展包了,有时候MySQL服务器上是不能上网或是不能随便安装软件包的.
xinet.d+shell 的问题是经常响应超时,而且没有太多的日志说明问题在什么地方.
所以现成的脚本,可以用,但是并不好用.


3. 如何用好此脚本
=============
